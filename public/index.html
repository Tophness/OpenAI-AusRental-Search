<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Australian Rent Search</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1>Australian Rental Property Search</h1>

        <div class="tabs">
            <button class="tab-link active" data-tab="domain">Domain.com.au</button>
            <button class="tab-link" data-tab="rentdc">Rent.com.au</button>
            <button class="tab-link" data-tab="realestate">Realestate.com.au</button>
            <button class="tab-link" data-tab="flatmates">Flatmates.com.au</button>
        </div>

        <!-- Add Filter and Sort Controls here, above the forms or results -->
        <div class="controls- Sorter">
            <div class="filter-group">
                <label for="filter-address">Filter Addresses (comma-sep, hides if match):</label>
                <input type="text" id="filter-address" value="room">
            </div>
            <div class="filter-group">
                <label for="filter-description">Filter Descriptions (comma-sep, hides if match):</label>
                <input type="text" id="filter-description" value="room for rent,boarding house,shared accommodation,affordable room,furnished room,single room,double room,single bedroom,double bedroom">
            </div>
			<div class="filter-group">
				<label for="filter-property-type">Filter by Property Type:</label>
				<select id="filter-property-type">
					<option value="">All Types</option>
				</select>
			</div>
            <div class="sort-group">
                <label for="sort-results">Sort by:</label>
                <select id="sort-results">
                    <option value="price-asc">Price (Low-High)</option>
                    <option value="price-desc">Price (High-Low)</option>
                    <!-- Add more sort options later if needed -->
                </select>
            </div>
        </div>


        <div id="domain" class="tab-content active">
            <h2>Search Domain.com.au</h2>
            <form id="domain-form">
                <!-- Form fields as before -->
                <div class="form-grid">
                    <div><label for="domain-suburb">Suburbs (suburb-state-postcode, comma-separated):</label><input type="text" id="domain-suburb" name="suburb" placeholder="chatswood-nsw-2067,gordon-nsw-2072", value="sydney-region-nsw"></div>
                    <div><label for="domain-bedrooms">Bedrooms (e.g., 2 or 2-4, 1-any):</label><input type="text" id="domain-bedrooms" name="bedrooms" placeholder="2-3" value="1"></div>
                    <div><label for="domain-price">Price (e.g., 500 or 200-500):</label><input type="text" id="domain-price" name="price" placeholder="400-600" value="150-300"></div>
                    <div><label for="domain-features">Features (comma-separated):</label><input type="text" id="domain-features" name="features" placeholder="petsallowed,airconditioning">
                        <small>Options: petsallowed, gas, builtinwardrobes, gardencourtyard, internallaundry, furnished, balconydeck, study, swimmingpool, airconditioning, secureparking, ensuite, heating, dishwasher</small>
                    </div>
                    <div><label for="domain-excludedeposittaken">Exclude Deposit Taken (1 for yes, 0 for no):</label><input type="number" id="domain-excludedeposittaken" name="excludedeposittaken" value="1" min="0" max="1"></div>
                    <div><label for="domain-images">Number of Images (0 to disable):</label><input type="number" id="domain-images" name="images" value="8"></div>
                    <input type="hidden" name="page" value="1">
                </div>
                <button type="submit">Search Domain</button>
            </form>
        </div>

        <div id="rentdc" class="tab-content">
            <h2>Search Rent.com.au</h2>
            <form id="rentdc-form">
                 <!-- Form fields as before -->
                 <div class="form-grid">
                    <div><label for="rentdc-suburbs">Suburbs (suburb postcode, comma-separated):</label><input type="text" id="rentdc-suburbs" name="suburbs" required placeholder="fairfield 2165,penrith 2750"></div>
                    <div><label for="rentdc-surrounding_suburbs">Include Surrounding (1 for yes, 0 for no):</label><input type="number" id="rentdc-surrounding_suburbs" name="surrounding_suburbs" value="0" min="0" max="1"></div>
                    <div><label for="rentdc-rent_low">Min Price:</label><input type="number" id="rentdc-rent_low" name="rent_low" placeholder="300"></div>
                    <div><label for="rentdc-rent_high">Max Price:</label><input type="number" id="rentdc-rent_high" name="rent_high" placeholder="700"></div>
                    <div><label for="rentdc-bedrooms">Min Bedrooms:</label><input type="number" id="rentdc-bedrooms" name="bedrooms" placeholder="2"></div>
                    <div><label for="rentdc-bathrooms">Min Bathrooms:</label><input type="number" id="rentdc-bathrooms" name="bathrooms" placeholder="1"></div>
                    <div><label for="rentdc-car_spaces">Min Car Spaces:</label><input type="number" id="rentdc-car_spaces" name="car_spaces" placeholder="1"></div>
                    <div><label for="rentdc-images">Include Images (1 for yes, 0 for no):</label><input type="number" id="rentdc-images" name="images" value="1" min="0" max="1"></div>
                    <input type="hidden" name="page" value="1">
                </div>
                <button type="submit">Search Rent.com.au</button>
            </form>
        </div>

        <div id="realestate" class="tab-content">
            <h2>Search Realestate.com.au</h2>
            <form id="realestate-form">
                <!-- Form fields as before -->
                <div class="form-grid">
                    <div><label for="realestate-searchLocation">Location (suburb, postcode, state, comma-separated):</label><input type="text" id="realestate-searchLocation" name="searchLocation" required placeholder="Penrith, NSW"></div>
                    <div><label for="realestate-propertyType">Property Type:</label>
                        <select id="realestate-propertyType" name="propertyType">
                            <option value="all">All</option>
                            <option value="house">House</option>
                            <option value="apartment">Apartment</option>
                            <option value="townhouse">Townhouse</option>
                            <option value="villa">Villa</option>
                            <option value="unit">Unit</option>
                        </select>
                    </div>
                    <div><label for="realestate-minBedrooms">Min Bedrooms:</label><input type="number" id="realestate-minBedrooms" name="minBedrooms" placeholder="1"></div>
                    <div><label for="realestate-minBathrooms">Min Bathrooms:</label><input type="number" id="realestate-minBathrooms" name="minBathrooms" placeholder="1"></div>
                    <div><label for="realestate-minParkingSpaces">Min Parking Spaces:</label><input type="number" id="realestate-minParkingSpaces" name="minParkingSpaces" placeholder="0"></div>
                    <div><label for="realestate-minimumPrice">Min Price:</label><input type="number" id="realestate-minimumPrice" name="minimumPrice" placeholder="200"></div>
                    <div><label for="realestate-maximumPrice">Max Price:</label><input type="number" id="realestate-maximumPrice" name="maximumPrice" placeholder="600"></div>
                    <div><label><input type="checkbox" name="surroundingSuburbs" checked> Surrounding Suburbs</label></div>
                    <div><label><input type="checkbox" name="furnished"> Furnished</label></div>
                    <div><label><input type="checkbox" name="petsAllowed"> Pets Allowed</label></div>
                    <div><label><input type="checkbox" name="swimmingPool"> Swimming Pool</label></div>
                    <div><label><input type="checkbox" name="garage"> Garage</label></div>
                    <div><label><input type="checkbox" name="balcony"> Balcony</label></div>
                    <div><label><input type="checkbox" name="outdoorArea"> Outdoor Area</label></div>
                    <div><label><input type="checkbox" name="ensuite"> Ensuite</label></div>
                    <div><label><input type="checkbox" name="dishwasher"> Dishwasher</label></div>
                    <div><label><input type="checkbox" name="study"> Study</label></div>
                    <div><label><input type="checkbox" name="builtInRobes"> Built-in Robes</label></div>
                    <div><label><input type="checkbox" name="airConditioning"> Air Conditioning</label></div>
                    <div><label><input type="checkbox" name="heating"> Heating</label></div>
                    <div><label for="realestate-images">Number of Images (0 to disable):</label><input type="number" id="realestate-images" name="images" value="2"></div>
                    <div><label for="realestate-descriptionLength">Description Length (0 to disable):</label><input type="number" id="realestate-descriptionLength" name="descriptionLength" value="200"></div>
                    <input type="hidden" name="channel" value="rent">
                    <input type="hidden" name="page" value="1">
                    <input type="hidden" name="pageSize" value="20"> {/* Default page size for REA */}
                </div>
                <button type="submit">Search Realestate.com.au</button>
            </form>
        </div>

        <div id="flatmates" class="tab-content">
            <h2>Search Flatmates.com.au</h2>
            <form id="flatmates-form">
                <!-- Form fields as before -->
                <div class="form-grid">
                    <div><label for="flatmates-locations">Locations (suburb-postcode, use + for multiple):</label><input type="text" id="flatmates-locations" name="locations" placeholder="penrith-2750+parramatta-2150"></div>
                    <div><label for="flatmates-minBudget">Min Budget:</label><input type="text" id="flatmates-minBudget" name="minBudget" placeholder="150"></div>
                    <div><label for="flatmates-maxBudget">Max Budget:</label><input type="text" id="flatmates-maxBudget" name="maxBudget" placeholder="300"></div>
                    <div><label for="flatmates-bathroomType">Bathroom Type:</label>
                        <select id="flatmates-bathroomType" name="bathroomType">
                            <option value="">Any</option>
                            <option value="ensuite-or-own">Ensuite or Own</option>
                            <option value="ensuite">Ensuite</option>
                        </select>
                    </div>
                    <div><label for="flatmates-furnishings">Furnishings:</label>
                        <select id="flatmates-furnishings" name="furnishings">
                            <option value="">Any</option>
                            <option value="furnished">Furnished</option>
                            <option value="unfurnished">Unfurnished</option>
                        </select>
                    </div>
                    <div><label for="flatmates-parking">Parking:</label>
                        <select id="flatmates-parking" name="parking">
                            <option value="">Any</option>
                            <option value="off-street-parking">Off-street</option>
                            <option value="on-street-parking">On-street</option>
                            <option value="no-parking">No Parking</option>
                        </select>
                    </div>
                     <div><label for="flatmates-room">Room Type:</label>
                        <select id="flatmates-room" name="room">
                            <option value="">Any</option>
                            <option value="private-room">Private Room</option>
                            <option value="shared-room">Shared Room</option>
                        </select>
                    </div>
                    <div><label><input type="checkbox" name="billsIncluded"> Bills Included</label></div>
                    <div><label><input type="checkbox" name="pets"> Pets Allowed</label></div>
                    <div><label><input type="checkbox" name="smokers"> Smokers Allowed</label></div>
                    <div><label><input type="checkbox" name="couples" value="couples"> Couples</label></div> {/* Removed name="gender" as it conflicts if multiple checkboxes set gender */}
                    <div><label><input type="checkbox" name="shareHouses" checked> Share Houses</label></div>
                    <div><label><input type="checkbox" name="wholeProperties"> Whole Properties</label></div>
                    <div><label><input type="checkbox" name="studios"> Studios</label></div>
                    <div><label><input type="checkbox" name="grannyFlats"> Granny Flats</label></div>
                    <div><label for="flatmates-images">Number of Images (0 to disable):</label><input type="number" id="flatmates-images" name="images" value="2"></div>
                    <div><label for="flatmates-descriptionLength">Description Length (0 to disable):</label><input type="number" id="flatmates-descriptionLength" name="descriptionLength" value="200"></div>
                    <input type="hidden" name="page" value="1">
                </div>
                <button type="submit">Search Flatmates.com.au</button>
            </form>
        </div>

        <div id="loading-message" style="display: none; text-align: center; padding: 20px; font-weight: bold;">Loading...</div>
        <div id="error-message" style="display: none; color: red; text-align: center; padding: 20px;"></div>

        <div id="results-container">
            <!-- Results will be appended here -->
        </div>

        <div id="pagination-controls" style="display: none;">
            <button id="prev-page">Previous</button>
            <span id="page-info"></span>
            <button id="next-page">Next</button>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>